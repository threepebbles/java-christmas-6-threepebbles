# 🎄 "크리스마스 프로모션" 프로젝트

목표: "12월 이벤트 플래너" 만들기

# 🚀 기획 요구사항

## 이벤트 진행 대상인 메뉴

```
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
```

## 할인 이벤트

- 크리스마스 디데이 할인
    - 이벤트 기간: 2023.12.1 ~ 2023.12.25
    - 1,000원으로 시작하여 크리스마스가 다가올수록 날마다 할인 금액이 100원씩 증가
    - 총주문 금액에서 해당 금액만큼 할인  
      (e.g. 시작일인 12월 1일에 1,000원, 2일에 1,100원, ..., 25일엔 3,400원 할인)
- 평일 할인(일요일~목요일): 평일에는 디저트 메뉴를 메뉴 1개당 2,023원 할인
- 주말 할인(금요일, 토요일): 주말에는 메인 메뉴를 메뉴 1개당 2,023원 할인
- 특별 할인: 이벤트 달력에 별이 있으면 총주문 금액에서 1,000원 할인
    - 별이 있는 날: 3, 10, 17, 24, 31일

## 증정 이벤트

- 할인 전 총주문 금액이 12만 원 이상일 때, 샴페인 1개 증정

## 배지 부여 이벤트

- 혜택 금액에 따라 12월 이벤트 배지 부여
    - 총혜택 금액에 따라 다른 이벤트 배지를 부여합니다. 배지에 따라 새해 이벤트 참여 시, 각각 다른 새해 선물을 증정할 예정입니다.
        - 5천 원 이상: 별
        - 1만 원 이상: 트리
        - 2만 원 이상: 산타

## 이벤트 진행 기간

- 기간: 2023년 12월 1일(금) ~ 2023년 12월 31일(일)
- 특이사항: '크리스마스 디데이 할인'을 제외한 다른 이벤트는 2023.12.1 ~ 2023.12.31 동안 적용

## 이벤트 적용에 대한 주의 사항

- 총주문 금액 10,000원 이상부터 이벤트가 적용됩니다.
- 음료만 주문 시, 주문할 수 없습니다.
- 메뉴는 한 번에 최대 20개까지만 주문할 수 있습니다.  
  (e.g. 시저샐러드-1, 티본스테이크-1, 크리스마스파스타-1, 제로콜라-3, 아이스크림-1의 총개수는 7개)

## '12월 이벤트 플래너' 개발 요청 사항

- 고객들이 식당에 방문할 날짜와 메뉴를 미리 선택하면 이벤트 플래너가 주문 메뉴, 할인 전 총주문 금액, 증정 메뉴, 혜택 내역, 총혜택 금액, 할인 후 예상 결제 금액, 12월 이벤트 배지 내용을 보여주기를
  기대합니다.
- 12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
    - 방문할 날짜는 1 이상 31 이하의 숫자로만 입력받아 주세요.
    - 1 이상 31 이하의 숫자가 아닌 경우, "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
    - 모든 에러 메시지는 "[ERROR]"로 시작하도록 작성해 주세요.
- 주문하실 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
    - 고객이 메뉴판에 없는 메뉴를 입력하는 경우, "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
    - 메뉴의 개수는 1 이상의 숫자만 입력되도록 해주세요. 이외의 입력값은 "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
    - 메뉴 형식이 예시와 다른 경우, "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
    - 중복 메뉴를 입력한 경우(e.g. 시저샐러드-1,시저샐러드-1), "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 보여 주세요.
    - 모든 에러 메시지는 "[ERROR]"로 시작하도록 작성해 주세요.
- 주문 메뉴의 출력 순서는 자유롭게 출력해 주세요.
- 총혜택 금액에 따라 이벤트 배지의 이름을 다르게 보여 주세요.
- 총혜택 금액 = 할인 금액의 합계 + 증정 메뉴의 가격
- 할인 후 예상 결제 금액 = 할인 전 총주문 금액 - 할인 금액
- 증정 메뉴
    - 증정 이벤트에 해당하지 않는 경우, 증정 메뉴 "없음"으로 보여 주세요.
- 혜택 내역
    - 고객에게 적용된 이벤트 내역만 보여 주세요.
    - 적용된 이벤트가 하나도 없다면 혜택 내역 "없음"으로 보여 주세요.
    - 혜택 내역에 여러 개의 이벤트가 적용된 경우, 출력 순서는 자유롭게 출력해주세요.
- 이벤트 배지
    - 이벤트 배지가 부여되지 않는 경우, "없음"으로 보여 주세요.

## 전체 입출력

* 예시1 (적용된 이벤트가 하나도 없는 경우)

```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
26 
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
타파스-1,제로콜라-1 
12월 26일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
 
<주문 메뉴>
타파스 1개
제로콜라 1개

<할인 전 총주문 금액>
8,500원
 
<증정 메뉴>
없음
 
<혜택 내역>
없음
 
<총혜택 금액>
0원
 
<할인 후 예상 결제 금액>
8,500원
 
<12월 이벤트 배지>
없음
```

* 예시2

```
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
3
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!
 
<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개
 
<할인 전 총주문 금액>
142,000원
 
<증정 메뉴>
샴페인 1개
 
<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원
 
<총혜택 금액>
-31,246원
 
<할인 후 예상 결제 금액>
135,754원
 
<12월 이벤트 배지>
산타
```

# 구현을 위한 기능 설계서

아래는 실제 구현을 위한 기능 설계서입니다.

패키지별로 기능 요구사항을 구현합니다.

## 🎮 service

* 식당 방문 날짜 입력 받기

* 주문할 메뉴와 메뉴 개수 입력 받기

* 진행 중인 이벤트 적용하기
    * 주문받은 메뉴 목록을 출력한다.
      </br></br>
    * 할인 전 총 주문 금액을 계산한다.
        * 할인 전 총 주문 금액은 주문한 메뉴들의 금액의 합이다.
        * 계산된 금액을 출력한다.
          </br></br>
    * 할인 전 총 주문 금액이 120000원 이상인 경우 증정 메뉴를 증정한다.
        * 증정된 메뉴를 출력한다.
          </br></br>
    * 할인 혜택 내역을 계산한다.
        * 계산된 혜택 내역을 출력한다.
            * 혜택 내역의 종류: 크리스마스 디데이, 평일 할인, 특별 할인, 증정 이벤트
            * 혜택 내역의 종류 별로 각각 할인된 금액을 출력한다.
              </br></br>
    * 총혜택 금액을 계산하고 출력한다.
        * 총혜택 금액 = 할인 금액의 합계 + 증정 메뉴의 가격
          </br></br>
    * 할인 후 예상 결제 금액을 계산하고 출력한다.
        * 할인 후 예상 결제 금액 = 할인 전 총주문 금액 - 할인 금액의 합계
          </br></br>
    * 총혜택 금액에 따라 다른 이벤트 배지를 부여하고 출력한다.
      </br></br>

## 🖼️ view

### InputView

* [x] 입력 문구와 함께 식당 예상 방문 날짜를 입력 받는다.
    * 입력 문구 예시
        ```
        안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
        12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
        ```

* [x] 주문할 메뉴와 개수를 입력 받는다.
    * 입력 문구 예시
        ```
        주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
        ```

### OutputView

* [x] 주문한 메뉴와 주문 개수를 출력한다.
    * 출력 예시
        ```
        <주문 메뉴>
        {주문 목록 양식}
        ```

* [x] 할인 전 총주문 금액을 출력한다.
    * 출력 예시
      ```
      <할인 전 총주문 금액>
      {할인 전 총주문 금액}
      ```
* [x] 증정 메뉴를 출력한다.
    * [x] 증정 메뉴가 없으면 `없음`을 출력한다.
    * 출력 예시1 (증정 메뉴가 없는 경우)
      ```
      <증정 메뉴>
      없음
      ```
    * 출력 예시2 (증정 메뉴가 있는 경우)
      ```
      <증정 메뉴>
      {증정 메뉴 양식}
      ```

* [x] 혜택 내역을 출력한다.
    * [x] 혜택 내역이 없으면 `없음`을 출력한다.
    * 출력 예시1 (혜택 내역이 없는 경우)
        ```
        <혜택 내역>  
        없음
        ```
    * 출력 예시2 (혜택 내역이 있는 경우)
        ```
        <혜택 내역>
        {혜택 내역 양식}
        ```
* [x] 총혜택 금액을 출력한다.
    * 출력 예시
        ```
        <총혜택 금액>
        {총혜택 금액 양식}
        ```
* [x] 할인 후 예상 결제 금액을 출력한다.
    * 출력 예시
        ```
        <할인 후 예상 결제 금액>
        {할인 후 예상 결제 금액 양식}
        ```
* [x] 이벤트 배지를 출력한다.
    * [x] 부여된 이벤트 배지가 없으면 `없음`을 출력한다.
    * 출력 예시1 (배지가 없는 경우)
        ```
        <12월 이벤트 배지>
        없음
        ```
    * 출력 예시2 (배지가 있는 경우)
        ```
        <12월 이벤트 배지>
        {이벤트 배지 양식}
        ```

## 🌉 controller

### InputValidator

* 식당 예상 방문 날짜 검증
    * [x] 숫자여야 한다.
* 주문 목록 검증
    * [x] 주문 메뉴와 개수의 입력 양식은 `{주문 메뉴}-{개수}`여야 한다.
    * [x] 개수는 정수여야 한다.

### InputController

* [x] 식당 예상 방문 날짜 입력 받기
    * [x] InputView로부터 식당 예상 방문 날짜 입력(String 타입)을 전달 받는다.
    * [x] InputValidator로 검증한다.
    * [x] 날짜 객체로 변환한다.
    * [x] 유효하지 않은 입력인 경우 에러 메세지 출력 후 재입력을 받는다.
        * 에러메세지 양식
            ```
            [ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.
            ```

* [x] 주문 목록 입력 받기
    * [x] InputView로부터 주문 메뉴와 개수(String 타입)을 전달 받는다.
    * [x] 주문 메뉴와 개수는 `,`(콤마) 단위로 구분한다.
    * [x] InputValidator로 검증한다.
    * [x] 주문 목록 객체로 변환한다.
    * [x] 유효하지 않은 입력인 경우 에러 메세지 출력 후 재입력을 받는다.
        * 에러메세지 양식
            ```
            [ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.
            ```

### OuputController

비즈니스 로직에 사용되는 객체를 출력될 화면으로 변환해주는 역할

* 공통사항
    * 모든 금액은 한국 locale 형식으로 출력한다. (세자리 단위 콤마)


* 주문 목록의 출력 양식을 생성한다.
    * 양식 예시
        ```
        {메뉴1 이름} {메뉴1 개수}개
        {메뉴2 이름} {메뉴2 개수}개
        ```
* 할인 전 총주문 금액의 출력 양식을 생성한다.
    * 양식 예시
        ```
        {할인 전 총주문 금액}{화폐 단위}
        ```
* 증정 메뉴의 출력 양식을 생성한다.
    * 양식 예시
        ```
        {증정메뉴 이름} {개수}개
        ```
* 혜택 내역의 출력 양식을 생성한다.
    * 양식 예시
        ```
        {혜택명1}: -{혜택명1 혜택 금액}{화폐 단위}
        {혜택명2}: -{혜택명2 혜택 금액}{화폐 단위}
        {혜택명3}: -{혜택명3 혜택 금액}{화폐 단위}
        ```

* 총 혜택 금액의 출력 양식을 생성한다.
    * 양식 예시
        ```
        -{총 혜택 금액}{화폐 단위}
        ```

* 할인 후 예상 결제 금액의 출력 양식을 생성한다.
    * 양식 예시
        ```
        {할인 후 예상 결제 금액}{화폐 단위}
        ```

* 부여된 이벤트 배지의 출력 양식을 생성한다.
    * 양식 예시
        ```
        {이벤트 배지명}
        ```

## 🧑 domain

### 날짜(Date)

날짜 정보를 담고 있는 클래스

* 생성자 검증
    * 날짜는 1~31 사이의 숫자여야 한다.

### 돈(Money)

돈에 대한 정보를 담고 있는 클래스

* 화폐 단위의 이름을 갖고 있다. (e.g. 원, 달러, 엔)
* 금액을 갖고 있다.

### 메뉴(Menu)

주문 가능한 메뉴의 정보를 담고 있는 abstract 클래스

모든 메뉴들은 **주문 메뉴** 클래스를 상속받는다.

* 메뉴의 이름을 갖고 있다.
* 메뉴의 금액을 갖고 있다.
* 생성자 검증
    * 금액은 양수여야한다.

### 주문 목록(Order)

주문한 메뉴의 목록과 개수의 정보를 담고 있는 클래스

* 주문한 메뉴(음식)과 개수의 목록을 갖고 있다.
* 생성자 검증
    * 중복된 메뉴가 있으면 안 된다.
    * 주문 개수는 양수여야 한다.

### 증정 메뉴(Gift)

증정 메뉴의 정보를 담고 있는 클래스

* 증정 메뉴의 이름을 갖고 있다.
* 증정 메뉴의 금액을 갖고 있다.

### 할인

* 각종 혜택 금액을 계산하는 기능

#### 크리스마스 디데이 할인

* 크리스마스 할인 금액을 계산하는 기능

#### 평일 할인

* 평일 할인 금액을 계산하는 기능

#### 특별 할인

* 특별 할인 금액을 계산하는 기능
* 특별 할인 하는 날: 3, 10, 17, 24, 25, 31일

#### 증정 이벤트 혜택

* 증정 메뉴에 따른 혜택 금액을 계산하는 기능

### 이벤트 배지 (상수)

부여된 이벤트 배지를 관리하는 클래스
